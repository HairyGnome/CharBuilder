import{n as ge,t as ct,d as dt,v as Wt,Q as Kt,w as Lt,x as At,y as xt,u as Tt,a as Pt,o as H,z as Ct,b as Gt,A as Xt,B as Yt,C as Ht,c as Jt,D as Zt,E as ea,F as ta,G as aa,e as la,H as na,I as Mt,J as sa,K as ra,L as Vt,M as oa,r as mt,s as ue,N as vt,p as J,O as ia,T as ua,g as je,P as ca,R as da,q as Ze}from"./QCard-DhU70hQm.js";import{c as Ae,g as qe,i as qt,e as ke,a as u,h as C,l as ma,f as va,E as pa,q as ee,_ as te,s as R,t as $,u as v,B as p,z as M,r as z,o as tt,b as fa,d as ha,I as ga,J as ya,K as Oe,L as Nt,w as He,M as ba,N as $a,p as Ca,O as Sa,P as et,Q as Xe,R as St,S as wa,U as Ee,V as _t,W as ka,X as zt,Y as Aa,A as X,y as Me,v as pt,D as Z,x as l,F as de,C as $e,Z as wt,$ as jt,a0 as qa,a1 as _a,a2 as kt}from"./index-BmwpeuXY.js";import{h as Be,R as Ta,Q as re,c as Et,g as Pa,b as Ot,u as La,e as xa,d as me,f as Ha,i as Ma}from"./QBtn-sPgOoqY8.js";import{u as at}from"./data-store-BhbO4lqQ.js";const Va=Ae({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:c}}=qe(),o=qt(ma,ke);if(o===ke)return console.error("QPage needs to be a deep child of QLayout"),ke;if(qt(va,ke)===ke)return console.error("QPage needs to be child of QPageContainer"),ke;const n=u(()=>{const s=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof e.styleFn=="function"){const m=o.isContainer.value===!0?o.containerHeight.value:c.screen.height;return e.styleFn(s,m)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-s+"px":c.screen.height===0?s!==0?`calc(100vh - ${s}px)`:"100vh":c.screen.height-s+"px"}}),r=u(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>C("main",{class:r.value,style:n.value},Be(t.default))}}),Ye=at(),ve=pa("characterStore",{state(){return{name:"Unknown advernturer",level:1,class:"fighter",ancestry:{ancestry:"human",lineage:"lÃºn"},region:"sleepless_sands",speed:25,selectedAbilityScoreArray:"specialist",baseAbilityScores:{str:16,dex:12,con:12,int:10,wis:10,cha:8},hp:{currentHp:22,maxHp:22,tempHp:0},weapons:["longsword","crossbow,_heavy"],money:{gold:0,silver:0,copper:0,transactionHistory:[]}}},getters:{getAbilityScoreModifier:e=>t=>Math.floor((e.baseAbilityScores[t]-10)/2),getBaseAbilityScores(e){return e.baseAbilityScores},getAncestryAndLineageFeats(e){const t=Ye.ancestries[e.ancestry.ancestry]?.feature,c=[],o=Ye.lineages[e.ancestry.lineage]?.feats||{};for(let a=1;a<=e.level;a++){const n=`lv${a}`,r=o[n];c.push(r)}return[...t?[t]:[],...c]},getRoleFeatures(){const e=Ye.classes[this.class]?.roles||[],t=Ye.ancestries[this.ancestry.ancestry]?.rolePassives||{};return e.map(o=>t[o]||"").filter(o=>o!=="")}},actions:{setAncestry(e){e=e.toLowerCase(),this.ancestry.ancestry=e,this.ancestry.lineage=Ye.ancestries[e]?.lineages[0]||"N/A"},setLineage(e){this.ancestry.lineage=e.toLowerCase().slugify()},setRegion(e){this.region=e.toLocaleLowerCase().slugify()},setClass(e){this.class=e.toLowerCase()},setAbilityScores(e){this.baseAbilityScores=e},setLevel(e){e<=10&&e>=1&&(this.level=e)},incrementLevel(){this.level<10&&this.level++},adjustHealth(e){this.hp.currentHp+=e,this.hp.currentHp<0&&(this.hp.currentHp=0),this.hp.currentHp>this.hp.maxHp&&(this.hp.currentHp=this.hp.maxHp)},setTempHp(e){e>=0&&(this.hp.tempHp=e)},setCurrentHealth(e){e>0&&e<this.hp.maxHp&&(this.hp.currentHp=e)},addTransaction(e){let t=this.money.gold*1e4+this.money.silver*100+this.money.copper;const c=e.goldChange*1e4+e.silverChange*100+e.copperChange;return t+c<0?!1:(t+=c,this.money.gold=Math.floor(t/1e4),t%=1e4,this.money.silver=Math.floor(t/100),this.money.copper=t%100,this.money.transactionHistory.push(e),!0)},simplifyCurrency(){let e=this.money.copper,t=this.money.silver,c=this.money.gold;for(;e>=100;)e-=100,t+=1;for(;t>=100;)t-=100,c+=1;const o=e-this.money.copper,a=t-this.money.silver,n=c-this.money.gold;if(o===0&&a===0&&n===0)return;const r={label:"Simplify Currency",timestamp:new Date,goldChange:n,silverChange:a,copperChange:o};this.addTransaction(r)}}}),Da=at(),xe=ve(),Ra=ee({name:"AbilityScoreCard",computed:{speed(){return`${xe.speed} ft.`},size(){return Da.ancestries[xe.ancestry.ancestry]?.size.toUpperCase()||"N/A"},strModifier(){const e=xe.getAbilityScoreModifier("str");return`${e>=0?"+":""}${e}`},dexModifier(){const e=xe.getAbilityScoreModifier("dex");return`${e>=0?"+":""}${e}`},conModifier(){const e=xe.getAbilityScoreModifier("con");return`${e>=0?"+":""}${e}`},intModifier(){const e=xe.getAbilityScoreModifier("int");return`${e>=0?"+":""}${e}`},wisModifier(){const e=xe.getAbilityScoreModifier("wis");return`${e>=0?"+":""}${e}`},chaModifier(){const e=xe.getAbilityScoreModifier("cha");return`${e>=0?"+":""}${e}`}}}),Ba={class:"column items-center"},Ia={class:"column items-center"},Fa={class:"column items-center"},Na={class:"column items-center"},za={class:"column items-center"},ja={class:"column items-center"},Ea={class:"column items-center"},Oa={class:"column items-center"};function Qa(e,t,c,o,a,n){return $(),R(ge,{class:"row q-gutter-x-lg q-pr-lg q-py-sm justify-evenly col-auto"},{default:v(()=>[p("div",Ba,[t[0]||(t[0]=p("div",null,"SIZE",-1)),p("div",null,M(e.size),1)]),p("div",Ia,[t[1]||(t[1]=p("div",null,"SPEED",-1)),p("div",null,M(e.speed),1)]),p("div",Fa,[t[2]||(t[2]=p("div",null,"STR",-1)),p("div",null,M(e.strModifier),1)]),p("div",Na,[t[3]||(t[3]=p("div",null,"DEX",-1)),p("div",null,M(e.dexModifier),1)]),p("div",za,[t[4]||(t[4]=p("div",null,"CON",-1)),p("div",null,M(e.conModifier),1)]),p("div",ja,[t[5]||(t[5]=p("div",null,"INT",-1)),p("div",null,M(e.intModifier),1)]),p("div",Ea,[t[6]||(t[6]=p("div",null,"WIS",-1)),p("div",null,M(e.wisModifier),1)]),p("div",Oa,[t[7]||(t[7]=p("div",null,"CHA",-1)),p("div",null,M(e.chaModifier),1)])]),_:1})}const Ua=te(Ra,[["render",Qa]]);let Wa=0;const Ka=["click","keydown"],Ga={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Wa++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Xa(e,t,c,o){const a=qt(Nt,ke);if(a===ke)return console.error("QTab/QRouteTab component needs to be child of QTabs"),ke;const{proxy:n}=qe(),r=z(null),s=z(null),m=z(null),V=u(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),g=u(()=>a.currentModel.value===e.name),j=u(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(g.value===!0?" q-tab--active"+(a.tabProps.value.activeClass?" "+a.tabProps.value.activeClass:"")+(a.tabProps.value.activeColor?` text-${a.tabProps.value.activeColor}`:"")+(a.tabProps.value.activeBgColor?` bg-${a.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&a.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||a.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),w=u(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(a.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),P=u(()=>e.disable===!0||a.hasFocus.value===!0||g.value===!1&&a.hasActiveTab.value===!0?-1:e.tabindex||0);function k(h,x){if(x!==!0&&h?.qAvoidFocus!==!0&&r.value?.focus(),e.disable!==!0){a.updateModel({name:e.name}),c("click",h);return}}function B(h){ga(h,[13,32])?k(h,!0):ya(h)!==!0&&h.keyCode>=35&&h.keyCode<=40&&h.altKey!==!0&&h.metaKey!==!0&&a.onKbdNavigate(h.keyCode,n.$el)===!0&&Oe(h),c("keydown",h)}function D(){const h=a.tabProps.value.narrowIndicator,x=[],_=C("div",{ref:m,class:["q-tab__indicator",a.tabProps.value.indicatorClass]});e.icon!==void 0&&x.push(C(re,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&x.push(C("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&x.push(e.alertIcon!==void 0?C(re,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):C("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),h===!0&&x.push(_);const ae=[C("div",{class:"q-focus-helper",tabindex:-1,ref:r}),C("div",{class:w.value},Et(t.default,x))];return h===!1&&ae.push(_),ae}const E={name:u(()=>e.name),rootRef:s,tabIndicatorRef:m,routeData:o};tt(()=>{a.unregisterTab(E)}),fa(()=>{a.registerTab(E)});function U(h,x){const _={ref:s,class:j.value,tabindex:P.value,role:"tab","aria-selected":g.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:k,onKeydown:B,...x};return ha(C(h,_,D()),[[Ta,V.value]])}return{renderTab:U,$tabs:a}}const De=Ae({name:"QTab",props:Ga,emits:Ka,setup(e,{slots:t,emit:c}){const{renderTab:o}=Xa(e,t,c);return()=>o("div")}});function Ya(e,t,c){const o=c===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?o[0]:o[1]}${e?` text-${e}`:""}`}const Ja=["left","center","right","justify"],Za=Ae({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Ja.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:c}){const{proxy:o}=qe(),{$q:a}=o,{registerTick:n}=ct(),{registerTick:r}=ct(),{registerTick:s}=ct(),{registerTimeout:m,removeTimeout:V}=dt(),{registerTimeout:g,removeTimeout:j}=dt(),w=z(null),P=z(null),k=z(e.modelValue),B=z(!1),D=z(!0),E=z(!1),U=z(!1),h=[],x=z(0),_=z(!1);let ae=null,Q=null,K;const oe=u(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Ya(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),pe=u(()=>{const d=x.value,f=k.value;for(let S=0;S<d;S++)if(h[S].name.value===f)return!0;return!1}),fe=u(()=>`q-tabs__content--align-${B.value===!0?"left":U.value===!0?"justify":e.align}`),_e=u(()=>`q-tabs row no-wrap items-center q-tabs--${B.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),Ve=u(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+fe.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),y=u(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),L=u(()=>e.vertical!==!0&&a.lang.rtl===!0),O=u(()=>Wt===!1&&L.value===!0);He(L,be),He(()=>e.modelValue,d=>{ne({name:d,setCurrent:!0,skipEmit:!0})}),He(()=>e.outsideArrows,Ce);function ne({name:d,setCurrent:f,skipEmit:S}){k.value!==d&&(S!==!0&&e["onUpdate:modelValue"]!==void 0&&c("update:modelValue",d),(f===!0||e["onUpdate:modelValue"]===void 0)&&(Fe(k.value,d),k.value=d))}function Ce(){n(()=>{w.value&&Ie({width:w.value.offsetWidth,height:w.value.offsetHeight})})}function Ie(d){if(y.value===void 0||P.value===null)return;const f=d[y.value.container],S=Math.min(P.value[y.value.scroll],Array.prototype.reduce.call(P.value.children,(F,T)=>F+(T[y.value.content]||0),0)),I=f>0&&S>f;B.value=I,I===!0&&r(be),U.value=f<parseInt(e.breakpoint,10)}function Fe(d,f){const S=d!=null&&d!==""?h.find(F=>F.name.value===d):null,I=f!=null&&f!==""?h.find(F=>F.name.value===f):null;if(Ne===!0)Ne=!1;else if(S&&I){const F=S.tabIndicatorRef.value,T=I.tabIndicatorRef.value;ae!==null&&(clearTimeout(ae),ae=null),F.style.transition="none",F.style.transform="none",T.style.transition="none",T.style.transform="none";const q=F.getBoundingClientRect(),Y=T.getBoundingClientRect();T.style.transform=e.vertical===!0?`translate3d(0,${q.top-Y.top}px,0) scale3d(1,${Y.height?q.height/Y.height:1},1)`:`translate3d(${q.left-Y.left}px,0,0) scale3d(${Y.width?q.width/Y.width:1},1,1)`,s(()=>{ae=setTimeout(()=>{ae=null,T.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",T.style.transform="none"},70)})}I&&B.value===!0&&ye(I.rootRef.value)}function ye(d){const{left:f,width:S,top:I,height:F}=P.value.getBoundingClientRect(),T=d.getBoundingClientRect();let q=e.vertical===!0?T.top-I:T.left-f;if(q<0){P.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(q),be();return}q+=e.vertical===!0?T.height-F:T.width-S,q>0&&(P.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(q),be())}function be(){const d=P.value;if(d===null)return;const f=d.getBoundingClientRect(),S=e.vertical===!0?d.scrollTop:Math.abs(d.scrollLeft);L.value===!0?(D.value=Math.ceil(S+f.width)<d.scrollWidth-1,E.value=S>0):(D.value=S>0,E.value=e.vertical===!0?Math.ceil(S+f.height)<d.scrollHeight:Math.ceil(S+f.width)<d.scrollWidth)}function W(d){Q!==null&&clearInterval(Q),Q=setInterval(()=>{nt(d)===!0&&ie()},5)}function Te(){W(O.value===!0?Number.MAX_SAFE_INTEGER:0)}function ce(){W(O.value===!0?0:Number.MAX_SAFE_INTEGER)}function ie(){Q!==null&&(clearInterval(Q),Q=null)}function ft(d,f){const S=Array.prototype.filter.call(P.value.children,Y=>Y===f||Y.matches&&Y.matches(".q-tab.q-focusable")===!0),I=S.length;if(I===0)return;if(d===36)return ye(S[0]),S[0].focus(),!0;if(d===35)return ye(S[I-1]),S[I-1].focus(),!0;const F=d===(e.vertical===!0?38:37),T=d===(e.vertical===!0?40:39),q=F===!0?-1:T===!0?1:void 0;if(q!==void 0){const Y=L.value===!0?-1:1,he=S.indexOf(f)+q*Y;return he>=0&&he<I&&(ye(S[he]),S[he].focus({preventScroll:!0})),!0}}const ht=u(()=>O.value===!0?{get:d=>Math.abs(d.scrollLeft),set:(d,f)=>{d.scrollLeft=-f}}:e.vertical===!0?{get:d=>d.scrollTop,set:(d,f)=>{d.scrollTop=f}}:{get:d=>d.scrollLeft,set:(d,f)=>{d.scrollLeft=f}});function nt(d){const f=P.value,{get:S,set:I}=ht.value;let F=!1,T=S(f);const q=d<T?-1:1;return T+=q*5,T<0?(F=!0,T=0):(q===-1&&T<=d||q===1&&T>=d)&&(F=!0,T=d),I(f,T),be(),F}function st(d,f){for(const S in d)if(d[S]!==f[S])return!1;return!0}function Qe(){let d=null,f={matchedLen:0,queryDiff:9999,hrefLen:0};const S=h.filter(q=>q.routeData?.hasRouterLink.value===!0),{hash:I,query:F}=o.$route,T=Object.keys(F).length;for(const q of S){const Y=q.routeData.exact.value===!0;if(q.routeData[Y===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:he,query:Ge,matched:yt,href:i}=q.routeData.resolvedLink.value,b=Object.keys(Ge).length;if(Y===!0){if(he!==I||b!==T||st(F,Ge)===!1)continue;d=q.name.value;break}if(he!==""&&he!==I||b!==0&&st(Ge,F)===!1)continue;const A={matchedLen:yt.length,queryDiff:T-b,hrefLen:i.length-he.length};if(A.matchedLen>f.matchedLen){d=q.name.value,f=A;continue}else if(A.matchedLen!==f.matchedLen)continue;if(A.queryDiff<f.queryDiff)d=q.name.value,f=A;else if(A.queryDiff!==f.queryDiff)continue;A.hrefLen>f.hrefLen&&(d=q.name.value,f=A)}if(d===null&&h.some(q=>q.routeData===void 0&&q.name.value===k.value)===!0){Ne=!1;return}ne({name:d,setCurrent:!0})}function gt(d){if(V(),_.value!==!0&&w.value!==null&&d.target&&typeof d.target.closest=="function"){const f=d.target.closest(".q-tab");f&&w.value.contains(f)===!0&&(_.value=!0,B.value===!0&&ye(f))}}function rt(){m(()=>{_.value=!1},30)}function Pe(){it.avoidRouteWatcher===!1?g(Qe):j()}function Ue(){if(K===void 0){const d=He(()=>o.$route.fullPath,Pe);K=()=>{d(),K=void 0}}}function We(d){h.push(d),x.value++,Ce(),d.routeData===void 0||o.$route===void 0?g(()=>{if(B.value===!0){const f=k.value,S=f!=null&&f!==""?h.find(I=>I.name.value===f):null;S&&ye(S.rootRef.value)}}):(Ue(),d.routeData.hasRouterLink.value===!0&&Pe())}function ot(d){h.splice(h.indexOf(d),1),x.value--,Ce(),K!==void 0&&d.routeData!==void 0&&(h.every(f=>f.routeData===void 0)===!0&&K(),Pe())}const it={currentModel:k,tabProps:oe,hasFocus:_,hasActiveTab:pe,registerTab:We,unregisterTab:ot,verifyRouteModel:Pe,updateModel:ne,onKbdNavigate:ft,avoidRouteWatcher:!1};Ca(Nt,it);function ut(){ae!==null&&clearTimeout(ae),ie(),K?.()}let Ke,Ne;return tt(ut),ba(()=>{Ke=K!==void 0,ut()}),$a(()=>{Ke===!0&&(Ue(),Ne=!0,Pe()),Ce()}),()=>C("div",{ref:w,class:_e.value,role:"tablist",onFocusin:gt,onFocusout:rt},[C(Kt,{onResize:Ie}),C("div",{ref:P,class:Ve.value,onScroll:be},Be(t.default)),C(re,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(D.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||a.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Te,onTouchstartPassive:Te,onMouseupPassive:ie,onMouseleavePassive:ie,onTouchendPassive:ie}),C(re,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(E.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||a.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:ce,onTouchstartPassive:ce,onMouseupPassive:ie,onMouseleavePassive:ie,onTouchendPassive:ie})])}});function el(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((c,o)=>{const a=parseFloat(c);a&&(t[o]=a)}),t}const tl=Sa({name:"touch-swipe",beforeMount(e,{value:t,arg:c,modifiers:o}){if(o.mouse!==!0&&Xe.has.touch!==!0)return;const a=o.mouseCapture===!0?"Capture":"",n={handler:t,sensitivity:el(c),direction:Lt(o),noop:wa,mouseStart(r){xt(r,n)&&ka(r)&&(Ee(n,"temp",[[document,"mousemove","move",`notPassive${a}`],[document,"mouseup","end","notPassiveCapture"]]),n.start(r,!0))},touchStart(r){if(xt(r,n)){const s=r.target;Ee(n,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),n.start(r)}},start(r,s){Xe.is.firefox===!0&&St(e,!0);const m=_t(r);n.event={x:m.left,y:m.top,time:Date.now(),mouse:s===!0,dir:!1}},move(r){if(n.event===void 0)return;if(n.event.dir!==!1){Oe(r);return}const s=Date.now()-n.event.time;if(s===0)return;const m=_t(r),V=m.left-n.event.x,g=Math.abs(V),j=m.top-n.event.y,w=Math.abs(j);if(n.event.mouse!==!0){if(g<n.sensitivity[1]&&w<n.sensitivity[1]){n.end(r);return}}else if(window.getSelection().toString()!==""){n.end(r);return}else if(g<n.sensitivity[2]&&w<n.sensitivity[2])return;const P=g/s,k=w/s;n.direction.vertical===!0&&g<w&&g<100&&k>n.sensitivity[0]&&(n.event.dir=j<0?"up":"down"),n.direction.horizontal===!0&&g>w&&w<100&&P>n.sensitivity[0]&&(n.event.dir=V<0?"left":"right"),n.direction.up===!0&&g<w&&j<0&&g<100&&k>n.sensitivity[0]&&(n.event.dir="up"),n.direction.down===!0&&g<w&&j>0&&g<100&&k>n.sensitivity[0]&&(n.event.dir="down"),n.direction.left===!0&&g>w&&V<0&&w<100&&P>n.sensitivity[0]&&(n.event.dir="left"),n.direction.right===!0&&g>w&&V>0&&w<100&&P>n.sensitivity[0]&&(n.event.dir="right"),n.event.dir!==!1?(Oe(r),n.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),At(),n.styleCleanup=B=>{n.styleCleanup=void 0,document.body.classList.remove("non-selectable");const D=()=>{document.body.classList.remove("no-pointer-events--children")};B===!0?setTimeout(D,50):D()}),n.handler({evt:r,touch:n.event.mouse!==!0,mouse:n.event.mouse,direction:n.event.dir,duration:s,distance:{x:g,y:w}})):n.end(r)},end(r){n.event!==void 0&&(et(n,"temp"),Xe.is.firefox===!0&&St(e,!1),n.styleCleanup?.(!0),r!==void 0&&n.event.dir!==!1&&Oe(r),n.event=void 0)}};if(e.__qtouchswipe=n,o.mouse===!0){const r=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";Ee(n,"main",[[e,"mousedown","mouseStart",`passive${r}`]])}Xe.has.touch===!0&&Ee(n,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const c=e.__qtouchswipe;c!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&c.end(),c.handler=t.value),c.direction=Lt(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(et(t,"main"),et(t,"temp"),Xe.is.firefox===!0&&St(e,!1),t.styleCleanup?.(),delete e.__qtouchswipe)}});function al(){let e=Object.create(null);return{getCache:(t,c)=>e[t]===void 0?e[t]=typeof c=="function"?c():c:e[t],setCache(t,c){e[t]=c},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const ll={name:{required:!0},disable:Boolean},Dt={setup(e,{slots:t}){return()=>C("div",{class:"q-panel scroll",role:"tabpanel"},Be(t.default))}},nl={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},sl=["update:modelValue","beforeTransition","transition"];function rl(){const{props:e,emit:t,proxy:c}=qe(),{getCache:o}=al(),{registerTimeout:a}=dt();let n,r;const s=z(null),m={value:null};function V(y){const L=e.vertical===!0?"up":"left";K((c.$q.lang.rtl===!0?-1:1)*(y.direction===L?1:-1))}const g=u(()=>[[tl,V,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),j=u(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),w=u(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),P=u(()=>`--q-transition-duration: ${e.transitionDuration}ms`),k=u(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),B=u(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),D=u(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);He(()=>e.modelValue,(y,L)=>{const O=x(y)===!0?_(y):-1;r!==!0&&Q(O===-1?0:O<_(L)?-1:1),m.value!==O&&(m.value=O,t("beforeTransition",y,L),a(()=>{t("transition",y,L)},e.transitionDuration))});function E(){K(1)}function U(){K(-1)}function h(y){t("update:modelValue",y)}function x(y){return y!=null&&y!==""}function _(y){return n.findIndex(L=>L.props.name===y&&L.props.disable!==""&&L.props.disable!==!0)}function ae(){return n.filter(y=>y.props.disable!==""&&y.props.disable!==!0)}function Q(y){const L=y!==0&&e.animated===!0&&m.value!==-1?"q-transition--"+(y===-1?j.value:w.value):null;s.value!==L&&(s.value=L)}function K(y,L=m.value){let O=L+y;for(;O!==-1&&O<n.length;){const ne=n[O];if(ne!==void 0&&ne.props.disable!==""&&ne.props.disable!==!0){Q(y),r=!0,t("update:modelValue",ne.props.name),setTimeout(()=>{r=!1});return}O+=y}e.infinite===!0&&n.length!==0&&L!==-1&&L!==n.length&&K(y,y===-1?n.length:-1)}function oe(){const y=_(e.modelValue);return m.value!==y&&(m.value=y),!0}function pe(){const y=x(e.modelValue)===!0&&oe()&&n[m.value];return e.keepAlive===!0?[C(Aa,B.value,[C(D.value===!0?o(k.value,()=>({...Dt,name:k.value})):Dt,{key:k.value,style:P.value},()=>y)])]:[C("div",{class:"q-panel scroll",style:P.value,key:k.value,role:"tabpanel"},[y])]}function fe(){if(n.length!==0)return e.animated===!0?[C(zt,{name:s.value},pe)]:pe()}function _e(y){return n=Pa(Be(y.default,[])).filter(L=>L.props!==null&&L.props.slot===void 0&&x(L.props.name)===!0),n.length}function Ve(){return n}return Object.assign(c,{next:E,previous:U,goTo:h}),{panelIndex:m,panelDirectives:g,updatePanelsList:_e,updatePanelIndex:oe,getPanelContent:fe,getEnabledPanels:ae,getPanels:Ve,isValidPanelName:x,keepAliveProps:B,needsUniqueKeepAliveWrapper:D,goToPanelByOffset:K,goToPanel:h,nextPanel:E,previousPanel:U}}const Re=Ae({name:"QTabPanel",props:ll,setup(e,{slots:t}){return()=>C("div",{class:"q-tab-panel",role:"tabpanel"},Be(t.default))}}),ol=Ae({name:"QTabPanels",props:{...nl,...Tt},emits:sl,setup(e,{slots:t}){const c=qe(),o=Pt(e,c.proxy.$q),{updatePanelsList:a,getPanelContent:n,panelDirectives:r}=rl(),s=u(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(a(t),Ot("div",{class:s.value},n(),"pan",e.swipeable,()=>r.value))}}),il=ee({name:"GearPageNotImplemented"});function ul(e,t,c,o,a,n){return $(),R(H,{class:"column items-center justify-center q-pa-xl",style:{height:"100%"}},{default:v(()=>[...t[0]||(t[0]=[p("div",{class:"text-h4"},"Page Not Implemented",-1),p("div",{class:"text-subtitle2 q-pt-md"},"This gear page has not been implemented yet.",-1)])]),_:1})}const cl=te(il,[["render",ul]]),dl=Ae({name:"QTooltip",inheritAttrs:!1,props:{...Zt,...Jt,...Ct,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...Ct.transitionShow,default:"jump-down"},transitionHide:{...Ct.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Ht},self:{type:String,default:"top middle",validator:Ht},offset:{type:Array,default:()=>[14,14],validator:Yt},scrollTarget:Xt,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Gt],setup(e,{slots:t,emit:c,attrs:o}){let a,n;const r=qe(),{proxy:{$q:s}}=r,m=z(null),V=z(!1),g=u(()=>Vt(e.anchor,s.lang.rtl)),j=u(()=>Vt(e.self,s.lang.rtl)),w=u(()=>e.persistent!==!0),{registerTick:P,removeTick:k}=ct(),{registerTimeout:B}=dt(),{transitionProps:D,transitionStyle:E}=ea(e),{localScrollTarget:U,changeScrollEvent:h,unconfigureScrollTarget:x}=ta(e,Fe),{anchorEl:_,canShow:ae,anchorEvents:Q}=aa({showing:V,configureAnchorEl:Ie}),{show:K,hide:oe}=la({showing:V,canShow:ae,handleShow:Ve,handleHide:y,hideOnRouteChange:w,processOnMount:!0});Object.assign(Q,{delayShow:ne,delayHide:Ce});const{showPortal:pe,hidePortal:fe,renderPortal:_e}=na(r,m,be,"tooltip");if(s.platform.is.mobile===!0){const W={anchorEl:_,innerRef:m,onClickOutside(ce){return oe(ce),ce.target.classList.contains("q-dialog__backdrop")&&Oe(ce),!0}},Te=u(()=>e.modelValue===null&&e.persistent!==!0&&V.value===!0);He(Te,ce=>{(ce===!0?oa:Mt)(W)}),tt(()=>{Mt(W)})}function Ve(W){pe(),P(()=>{n=new MutationObserver(()=>O()),n.observe(m.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),O(),Fe()}),a===void 0&&(a=He(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,O)),B(()=>{pe(!0),c("show",W)},e.transitionDuration)}function y(W){k(),fe(),L(),B(()=>{fe(!0),c("hide",W)},e.transitionDuration)}function L(){n!==void 0&&(n.disconnect(),n=void 0),a!==void 0&&(a(),a=void 0),x(),et(Q,"tooltipTemp")}function O(){sa({targetEl:m.value,offset:e.offset,anchorEl:_.value,anchorOrigin:g.value,selfOrigin:j.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ne(W){if(s.platform.is.mobile===!0){At(),document.body.classList.add("non-selectable");const Te=_.value,ce=["touchmove","touchcancel","touchend","click"].map(ie=>[Te,ie,"delayHide","passiveCapture"]);Ee(Q,"tooltipTemp",ce)}B(()=>{K(W)},e.delay)}function Ce(W){s.platform.is.mobile===!0&&(et(Q,"tooltipTemp"),At(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),B(()=>{oe(W)},e.hideDelay)}function Ie(){if(e.noParentEvent===!0||_.value===null)return;const W=s.platform.is.mobile===!0?[[_.value,"touchstart","delayShow","passive"]]:[[_.value,"mouseenter","delayShow","passive"],[_.value,"mouseleave","delayHide","passive"]];Ee(Q,"anchor",W)}function Fe(){if(_.value!==null||e.scrollTarget!==void 0){U.value=ra(_.value,e.scrollTarget);const W=e.noParentEvent===!0?O:oe;h(U.value,W)}}function ye(){return V.value===!0?C("div",{...o,ref:m,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,E.value],role:"tooltip"},Be(t.default)):null}function be(){return C(zt,D.value,ye)}return tt(L),Object.assign(r.proxy,{updatePosition:O}),_e}});class ml{url;selector;constructor(t,c){this.url=t,this.selector=c}getPartialHtml(){return fetch(this.url).then(t=>t.text()).then(t=>{const c=new DOMParser().parseFromString(t,"text/html");return c.querySelector("table")?void 0:c.querySelector(this.selector)?.innerHTML??void 0}).catch(()=>{console.warn("Could not GET rules site...")})}}const vl=at(),pl=ee({name:"LinkableItem",data(){return{tooltipEl:void 0}},props:{name:{type:String,required:!0}},computed:{label(){return this.name.unslugify().capitalize()},hyperlink(){return vl.getHyperlink(this.name)}},mounted(){new ml(this.hyperlink||"","article").getPartialHtml().then(t=>{this.tooltipEl=t}).catch(t=>{console.warn("Failed to load partial:",t)})}}),fl=["href"],hl={key:1};function gl(e,t,c,o,a,n){return $(),X("div",null,[e.hyperlink?($(),X("a",{key:0,href:e.hyperlink,target:"blank"},[Me(M(e.label)+" ",1),e.tooltipEl?($(),R(dl,{key:0,innerHTML:e.tooltipEl,class:"q-ma-none q-px-sm bg-dark text-h6",style:{border:"1px solid white"}},null,8,["innerHTML"])):pt("",!0)],8,fl)):($(),X("div",hl,M(e.label),1))])}const Qt=te(pl,[["render",gl]]),yl=at(),bl=ee({name:"WeaponCard",components:{LinkableItem:Qt},props:{weaponName:{type:String,required:!0}},computed:{weapon(){const e=this.weaponName,t=yl.weapons[e];if(!t)throw new Error("Error: weapon not found");return t}}}),$l={class:"col"},Cl={class:"col"},Sl={class:"col"},wl={class:"col"};function kl(e,t,c,o,a,n){const r=Z("linkable-item");return $(),R(ge,{class:"column q-px-md q-my-md",bordered:"",flat:""},{default:v(()=>[l(H,{class:"row justify-between text-center"},{default:v(()=>[l(r,{class:"col",name:e.weaponName},null,8,["name"]),p("div",$l,M(e.weapon.damage.amount.amount)+"d"+M(e.weapon.damage.amount.type)+" "+M(e.weapon.damage.type.capitalize()),1),p("div",Cl,"Bulk: "+M(e.weapon.bulk),1),p("div",Sl,M(e.weapon.properties.length>0?e.weapon.properties.map(s=>s.unslugify().capitalize()).join(", "):"-"),1),p("div",wl,"Heft: "+M(e.weapon.heft),1),l(r,{class:"col",name:e.weapon.special},null,8,["name"]),l(r,{class:"col",name:e.weapon.mastery},null,8,["name"])]),_:1}),l(H,{class:"row"})]),_:1})}const Al=te(bl,[["render",kl]]),ql=ve(),_l=ee({name:"WeaponsPage",components:{WeaponCard:Al},computed:{weapons(){return ql.weapons}}});function Tl(e,t,c,o,a,n){const r=Z("weapon-card");return $(),R(H,{style:{height:"100%"}},{default:v(()=>[l(mt,{class:"column",style:{height:"100%"}},{default:v(()=>[($(!0),X(de,null,$e(e.weapons,(s,m)=>($(),R(r,{key:m,weaponName:s},null,8,["weaponName"]))),128))]),_:1})]),_:1})}const Pl=te(_l,[["render",Tl]]),Rt=ve(),Ll=ee({name:"FeaturesPage",components:{LinkableItem:Qt},computed:{ancestryAndLineageFeatures(){return Rt.getAncestryAndLineageFeats},roleFeatures(){return Rt.getRoleFeatures}}}),xl={class:"column q-mt-sm"},Hl={class:"column q-mt-sm"},Ml={class:"column q-mt-sm"};function Vl(e,t,c,o,a,n){const r=Z("linkable-item");return $(),R(H,{style:{height:"100%"}},{default:v(()=>[l(mt,{class:"column",style:{height:"100%"}},{default:v(()=>[l(H,null,{default:v(()=>[t[0]||(t[0]=p("div",{class:"text-h4"},"Ancestry & lineage features",-1)),l(ue),p("div",xl,[($(!0),X(de,null,$e(e.ancestryAndLineageFeatures,(s,m)=>($(),R(r,{key:m,name:s,class:"text-h6"},null,8,["name"]))),128))])]),_:1}),l(H,null,{default:v(()=>[t[1]||(t[1]=p("div",{class:"text-h4"},"Role features",-1)),l(ue),p("div",Hl,[($(!0),X(de,null,$e(e.roleFeatures,(s,m)=>($(),R(r,{key:m,name:s,class:"text-h6"},null,8,["name"]))),128))])]),_:1}),l(H,null,{default:v(()=>[t[2]||(t[2]=p("div",{class:"text-h4"},"Class features",-1)),l(ue),p("div",Ml,[($(),X(de,null,$e([],(s,m)=>l(r,{key:m,name:s,class:"text-h6"},null,8,["name"])),64))])]),_:1})]),_:1})]),_:1})}const Dl=te(Ll,[["render",Vl]]),lt=Ae({name:"QCardActions",props:{...La,vertical:Boolean},setup(e,{slots:t}){const c=xa(e),o=u(()=>`q-card__actions ${c.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>C("div",{class:o.value},Be(t.default))}}),Rl=ve(),Bl=ee({name:"AddTransactionDialog",data(){return{transactionLabel:"Unlabeled Transaction",gold:0,silver:0,copper:0,showError:!1}},props:{show:{type:Boolean,required:!0}},methods:{addTransaction(){const e={label:this.transactionLabel,timestamp:new Date,goldChange:this.gold,silverChange:this.silver,copperChange:this.copper};Rl.addTransaction(e)?(this.transactionLabel="Unlabeled Transaction",this.gold=0,this.silver=0,this.copper=0,this.showError=!1,this.$emit("update:show",!1)):this.showError=!0},cancelTransaction(){this.transactionLabel="Unlabeled Transaction",this.gold=0,this.silver=0,this.copper=0,this.showError=!1,this.$emit("update:show",!1)}}});function Il(e,t,c,o,a,n){return $(),R(vt,{"model-value":e.show,onHide:e.cancelTransaction},{default:v(()=>[l(ge,{style:{"min-width":"600px","min-height":"500px"}},{default:v(()=>[l(H,null,{default:v(()=>[l(J,{modelValue:e.transactionLabel,"onUpdate:modelValue":t[0]||(t[0]=r=>e.transactionLabel=r),label:"Transaction Label",type:"text",outlined:"",class:"q-mt-md q-mx-md"},null,8,["modelValue"]),l(J,{modelValue:e.gold,"onUpdate:modelValue":t[1]||(t[1]=r=>e.gold=r),modelModifiers:{number:!0},label:"Gold",type:"number",outlined:"",class:"q-mt-md q-mx-md"},{prepend:v(()=>[l(re,{name:"currency_exchange",style:{color:"#d4af37"}})]),_:1},8,["modelValue"]),l(J,{modelValue:e.silver,"onUpdate:modelValue":t[2]||(t[2]=r=>e.silver=r),modelModifiers:{number:!0},label:"Silver",type:"number",outlined:"",class:"q-mt-md q-mx-md"},{prepend:v(()=>[l(re,{name:"currency_exchange",style:{color:"#c0c0c0"}})]),_:1},8,["modelValue"]),l(J,{modelValue:e.copper,"onUpdate:modelValue":t[3]||(t[3]=r=>e.copper=r),modelModifiers:{number:!0},label:"Copper",type:"number",outlined:"",class:"q-mt-md q-mx-md q-mb-md"},{prepend:v(()=>[l(re,{name:"currency_exchange",style:{color:"#cd7f32"}})]),_:1},8,["modelValue"])]),_:1}),e.showError?($(),R(H,{key:0,class:"text-negative text-h5 q-mx-md"},{default:v(()=>[...t[4]||(t[4]=[Me(" You do not have enough funds to complete this transaction. ",-1)])]),_:1})):pt("",!0),l(lt,{align:"right"},{default:v(()=>[l(me,{label:"Add Transaction",color:"primary",onClick:e.addTransaction},null,8,["onClick"]),l(me,{label:"Cancel",color:"primary",onClick:e.cancelTransaction},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["model-value","onHide"])}const Fl=te(Bl,[["render",Il]]),Nl=ee({name:"TransactionHistoryItem",props:{transaction:{type:Object,required:!0}}}),zl={class:"row items-center q-mx-md"},jl={class:"text-subtitle1 col-3 text-left"},El={class:"text-h6 col-4"},Ol={class:"col text-h6"},Ql={class:"text-h6 col"},Ul={class:"text-h6 col"};function Wl(e,t,c,o,a,n){return $(),X("div",zl,[p("span",jl,M(new Date(e.transaction.timestamp).toLocaleString()),1),p("span",El,M(e.transaction.label),1),p("span",Ol,[l(re,{name:"currency_exchange",style:{color:"#d4af37"},class:"q-mr-sm"}),p("span",{class:wt(["text-right",e.transaction.goldChange<0?"text-negative":e.transaction.goldChange>0?"text-positive":""]),style:{display:"inline-block","min-width":"60px"}},M(e.transaction.goldChange),3)]),p("span",Ql,[l(re,{name:"currency_exchange",style:{color:"#c0c0c0"},class:"q-mr-sm"}),p("span",{class:wt(["text-right col",e.transaction.silverChange<0?"text-negative":e.transaction.silverChange>0?"text-positive":""]),style:{display:"inline-block","min-width":"60px"}},M(e.transaction.silverChange),3)]),p("span",Ul,[l(re,{name:"currency_exchange",style:{color:"#cd7f32"},class:"q-mr-sm"}),p("span",{class:wt(["text-right col",e.transaction.copperChange<0?"text-negative":e.transaction.copperChange>0?"text-positive":""]),style:{display:"inline-block","min-width":"60px"}},M(e.transaction.copperChange),3)])])}const Kl=te(Nl,[["render",Wl]]),Gl=ee({name:"TransactionHistoryDialog",components:{TransactionHistoryItem:Kl},props:{show:{type:Boolean,required:!0}},computed:{...jt(ve,{transactionHistory:e=>e.money.transactionHistory})}});function Xl(e,t,c,o,a,n){const r=Z("transaction-history-item");return $(),R(vt,{"model-value":e.show,onHide:t[1]||(t[1]=s=>e.$emit("update:show",!1))},{default:v(()=>[l(ge,{style:{"min-width":"1200px"}},{default:v(()=>[l(H,null,{default:v(()=>[...t[2]||(t[2]=[p("div",{class:"text-h6"},"Transaction History",-1)])]),_:1}),l(ue),l(H,null,{default:v(()=>[l(ge,{flat:"",bordered:""},{default:v(()=>[e.transactionHistory.length>0?($(),R(mt,{key:0,style:{width:"100%",height:"400px"}},{default:v(()=>[($(!0),X(de,null,$e(e.transactionHistory,(s,m)=>($(),X("div",{key:m},[l(r,{transaction:s},null,8,["transaction"]),m<e.transactionHistory.length-1?($(),R(ue,{key:0})):pt("",!0)]))),128))]),_:1})):($(),R(H,{key:1,class:"text-subtitle1"},{default:v(()=>[...t[3]||(t[3]=[Me("No transactions recorded...",-1)])]),_:1}))]),_:1})]),_:1}),l(lt,{align:"right",class:"q-mt-sm q-mb-sm q-mr-sm"},{default:v(()=>[l(me,{label:"Close",color:"primary",onClick:t[0]||(t[0]=s=>e.$emit("update:show",!1))})]),_:1})]),_:1})]),_:1},8,["model-value"])}const Yl=te(Gl,[["render",Xl]]),Jl=ee({name:"PursePage",components:{AddTransactionDialog:Fl,TransactionHistoryDialog:Yl},data(){return{showAddTransactionDialog:!1,showTransactionHistoryDialog:!1}},computed:{...jt(ve,{gold:e=>e.money.gold,silver:e=>e.money.silver,copper:e=>e.money.copper,transactionHistory:e=>e.money.transactionHistory})},methods:{...qa(ve,["simplifyCurrency"]),openAddTransactionDialog(){this.showAddTransactionDialog=!0},openTransactionHistoryDialog(){this.showTransactionHistoryDialog=!0}}});function Zl(e,t,c,o,a,n){const r=Z("add-transaction-dialog"),s=Z("transaction-history-dialog");return $(),X(de,null,[l(H,{class:"row justify-evenly q-col-gutter-xl items-center q-mt-xl q-mb-lg"},{default:v(()=>[l(J,{modelValue:e.gold,"onUpdate:modelValue":t[0]||(t[0]=m=>e.gold=m),modelModifiers:{number:!0},label:"Gold",readonly:"",outlined:"",class:"col-3"},{prepend:v(()=>[l(re,{name:"monetization_on",style:{color:"#d4af37"}})]),_:1},8,["modelValue"]),l(J,{modelValue:e.silver,"onUpdate:modelValue":t[1]||(t[1]=m=>e.silver=m),modelModifiers:{number:!0},label:"Silver",readonly:"",outlined:"",class:"col-3"},{prepend:v(()=>[l(re,{name:"monetization_on",style:{color:"#c0c0c0"}})]),_:1},8,["modelValue"]),l(J,{modelValue:e.copper,"onUpdate:modelValue":t[2]||(t[2]=m=>e.copper=m),modelModifiers:{number:!0},label:"Copper",readonly:"",outlined:"",class:"col-3"},{prepend:v(()=>[l(re,{name:"monetization_on",style:{color:"#cd7f32"}})]),_:1},8,["modelValue"])]),_:1}),l(ue,{class:"q-mx-xl"}),l(lt,{class:"row justify-evenly q-mt-lg q-mb-xl"},{default:v(()=>[l(me,{label:"Add Transaction",color:"primary",icon:"add_shopping_cart",onClick:e.openAddTransactionDialog},null,8,["onClick"]),l(me,{label:"View Transaction History",color:"primary",icon:"history",onClick:e.openTransactionHistoryDialog},null,8,["onClick"]),l(me,{label:"Simplify Currency",color:"primary",icon:"swap_horiz",onClick:e.simplifyCurrency},null,8,["onClick"])]),_:1}),l(r,{show:e.showAddTransactionDialog,"onUpdate:show":t[3]||(t[3]=m=>e.showAddTransactionDialog=m)},null,8,["show"]),l(s,{show:e.showTransactionHistoryDialog,"onUpdate:show":t[4]||(t[4]=m=>e.showTransactionHistoryDialog=m)},null,8,["show"])],64)}const en=te(Jl,[["render",Zl]]),tn=ee({name:"GearCard",components:{GearPageNotImplemented:cl,WeaponsPage:Pl,PursePage:en,FeaturesPage:Dl},data(){return{tab:"weapons"}}});function an(e,t,c,o,a,n){const r=Z("weapons-page"),s=Z("gear-page-not-implemented"),m=Z("purse-page"),V=Z("features-page");return $(),R(ge,{class:"column"},{default:v(()=>[l(Za,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=g=>e.tab=g),dense:"",align:"justify"},{default:v(()=>[l(De,{name:"weapons",label:"Weapons"}),l(De,{name:"defense",label:"Defense"}),l(De,{name:"gear",label:"Gear"}),l(De,{name:"purse",label:"Purse"}),l(De,{name:"spells",label:"Spells"}),l(De,{name:"details",label:"Details"}),l(De,{name:"feats",label:"Feats"})]),_:1},8,["modelValue"]),l(ue),l(ol,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=g=>e.tab=g),animated:"",swipeable:"",class:"col-grow"},{default:v(()=>[l(Re,{name:"weapons"},{default:v(()=>[l(r,{style:{height:"100%"}})]),_:1}),l(Re,{name:"defense"},{default:v(()=>[l(s)]),_:1}),l(Re,{name:"gear"},{default:v(()=>[l(s)]),_:1}),l(Re,{name:"purse"},{default:v(()=>[l(m,{style:{height:"100%"}})]),_:1}),l(Re,{name:"spells"},{default:v(()=>[l(s)]),_:1}),l(Re,{name:"details"},{default:v(()=>[l(s)]),_:1}),l(Re,{name:"feats"},{default:v(()=>[l(V)]),_:1})]),_:1},8,["modelValue"])]),_:1})}const ln=te(tn,[["render",an]]),nn={xs:2,sm:4,md:6,lg:10,xl:14};function Bt(e,t,c){return{transform:t===!0?`translateX(${c.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const It=Ae({name:"QLinearProgress",props:{...Tt,...Ha,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:c}=qe(),o=Pt(e,c.$q),a=Ma(e,nn),n=u(()=>e.indeterminate===!0||e.query===!0),r=u(()=>e.reverse!==e.query),s=u(()=>({...a.value!==null?a.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),m=u(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),V=u(()=>Bt(e.buffer!==void 0?e.buffer:1,r.value,c.$q)),g=u(()=>`with${e.instantFeedback===!0?"out":""}-transition`),j=u(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${g.value} q-linear-progress__track--${o.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),w=u(()=>Bt(n.value===!0?1:e.value,r.value,c.$q)),P=u(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${g.value} q-linear-progress__model--${n.value===!0?"in":""}determinate`),k=u(()=>({width:`${e.value*100}%`})),B=u(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${g.value}`);return()=>{const D=[C("div",{class:j.value,style:V.value}),C("div",{class:P.value,style:w.value})];return e.stripe===!0&&n.value===!1&&D.push(C("div",{class:B.value,style:k.value})),C("div",{class:m.value,style:s.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Et(t.default,D))}}}),Ft="q-slider__marker-labels",sn=e=>({value:e}),rn=({marker:e})=>C("div",{key:e.value,style:e.style,class:e.classes},e.label),Ut=[34,37,40,33,39,38],on={...Tt,...ia,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},un=["pan","update:modelValue","change"];function cn({updateValue:e,updatePosition:t,getDragging:c,formAttrs:o}){const{props:a,emit:n,slots:r,proxy:{$q:s}}=qe(),m=Pt(a,s),V=ca(o),g=z(!1),j=z(!1),w=z(!1),P=z(!1),k=u(()=>a.vertical===!0?"--v":"--h"),B=u(()=>"-"+(a.switchLabelSide===!0?"switched":"standard")),D=u(()=>a.vertical===!0?a.reverse===!0:a.reverse!==(s.lang.rtl===!0)),E=u(()=>isNaN(a.innerMin)===!0||a.innerMin<a.min?a.min:a.innerMin),U=u(()=>isNaN(a.innerMax)===!0||a.innerMax>a.max?a.max:a.innerMax),h=u(()=>a.disable!==!0&&a.readonly!==!0&&E.value<U.value),x=u(()=>{if(a.step===0)return b=>b;const i=(String(a.step).trim().split(".")[1]||"").length;return b=>parseFloat(b.toFixed(i))}),_=u(()=>a.step===0?1:a.step),ae=u(()=>h.value===!0?a.tabindex||0:-1),Q=u(()=>a.max-a.min),K=u(()=>U.value-E.value),oe=u(()=>Qe(E.value)),pe=u(()=>Qe(U.value)),fe=u(()=>a.vertical===!0?D.value===!0?"bottom":"top":D.value===!0?"right":"left"),_e=u(()=>a.vertical===!0?"height":"width"),Ve=u(()=>a.vertical===!0?"width":"height"),y=u(()=>a.vertical===!0?"vertical":"horizontal"),L=u(()=>{const i={role:"slider","aria-valuemin":E.value,"aria-valuemax":U.value,"aria-orientation":y.value,"data-step":a.step};return a.disable===!0?i["aria-disabled"]="true":a.readonly===!0&&(i["aria-readonly"]="true"),i}),O=u(()=>`q-slider q-slider${k.value} q-slider--${g.value===!0?"":"in"}active inline no-wrap `+(a.vertical===!0?"row":"column")+(a.disable===!0?" disabled":" q-slider--enabled"+(h.value===!0?" q-slider--editable":""))+(w.value==="both"?" q-slider--focus":"")+(a.label||a.labelAlways===!0?" q-slider--label":"")+(a.labelAlways===!0?" q-slider--label-always":"")+(m.value===!0?" q-slider--dark":"")+(a.dense===!0?" q-slider--dense q-slider--dense"+k.value:""));function ne(i){const b="q-slider__"+i;return`${b} ${b}${k.value} ${b}${k.value}${B.value}`}function Ce(i){const b="q-slider__"+i;return`${b} ${b}${k.value}`}const Ie=u(()=>{const i=a.selectionColor||a.color;return"q-slider__selection absolute"+(i!==void 0?` text-${i}`:"")}),Fe=u(()=>Ce("markers")+" absolute overflow-hidden"),ye=u(()=>Ce("track-container")),be=u(()=>ne("pin")),W=u(()=>ne("label")),Te=u(()=>ne("text-container")),ce=u(()=>ne("marker-labels-container")+(a.markerLabelsClass!==void 0?` ${a.markerLabelsClass}`:"")),ie=u(()=>"q-slider__track relative-position no-outline"+(a.trackColor!==void 0?` bg-${a.trackColor}`:"")),ft=u(()=>{const i={[Ve.value]:a.trackSize};return a.trackImg!==void 0&&(i.backgroundImage=`url(${a.trackImg}) !important`),i}),ht=u(()=>"q-slider__inner absolute"+(a.innerTrackColor!==void 0?` bg-${a.innerTrackColor}`:"")),nt=u(()=>{const i=pe.value-oe.value,b={[fe.value]:`${100*oe.value}%`,[_e.value]:i===0?"2px":`${100*i}%`};return a.innerTrackImg!==void 0&&(b.backgroundImage=`url(${a.innerTrackImg}) !important`),b});function st(i){const{min:b,max:A,step:N}=a;let le=b+i*(A-b);if(N>0){const Le=(le-E.value)%N;le+=(Math.abs(Le)>=N/2?(Le<0?-1:1)*N:0)-Le}return le=x.value(le),je(le,E.value,U.value)}function Qe(i){return Q.value===0?0:(i-a.min)/Q.value}function gt(i,b){const A=_t(i),N=a.vertical===!0?je((A.top-b.top)/b.height,0,1):je((A.left-b.left)/b.width,0,1);return je(D.value===!0?1-N:N,oe.value,pe.value)}const rt=u(()=>_a(a.markers)===!0?a.markers:_.value),Pe=u(()=>{const i=[],b=rt.value,A=a.max;let N=a.min;do i.push(N),N+=b;while(N<A);return i.push(A),i}),Ue=u(()=>{const i=` ${Ft}${k.value}-`;return Ft+`${i}${a.switchMarkerLabelsSide===!0?"switched":"standard"}${i}${D.value===!0?"rtl":"ltr"}`}),We=u(()=>a.markerLabels===!1?null:ut(a.markerLabels).map((i,b)=>({index:b,value:i.value,label:i.label||i.value,classes:Ue.value+(i.classes!==void 0?" "+i.classes:""),style:{...Ke(i.value),...i.style||{}}}))),ot=u(()=>({markerList:We.value,markerMap:Ne.value,classes:Ue.value,getStyle:Ke})),it=u(()=>{const i=K.value===0?"2px":100*rt.value/K.value;return{...nt.value,backgroundSize:a.vertical===!0?`2px ${i}%`:`${i}% 2px`}});function ut(i){if(i===!1)return null;if(i===!0)return Pe.value.map(sn);if(typeof i=="function")return Pe.value.map(A=>{const N=i(A);return kt(N)===!0?{...N,value:A}:{value:A,label:N}});const b=({value:A})=>A>=a.min&&A<=a.max;return Array.isArray(i)===!0?i.map(A=>kt(A)===!0?A:{value:A}).filter(b):Object.keys(i).map(A=>{const N=i[A],le=Number(A);return kt(N)===!0?{...N,value:le}:{value:le,label:N}}).filter(b)}function Ke(i){return{[fe.value]:`${100*(i-a.min)/Q.value}%`}}const Ne=u(()=>{if(a.markerLabels===!1)return null;const i={};return We.value.forEach(b=>{i[b.value]=b}),i});function d(){if(r["marker-label-group"]!==void 0)return r["marker-label-group"](ot.value);const i=r["marker-label"]||rn;return We.value.map(b=>i({marker:b,...ot.value}))}const f=u(()=>[[ua,S,void 0,{[y.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function S(i){i.isFinal===!0?(P.value!==void 0&&(t(i.evt),i.touch===!0&&e(!0),P.value=void 0,n("pan","end")),g.value=!1,w.value=!1):i.isFirst===!0?(P.value=c(i.evt),t(i.evt),e(),g.value=!0,n("pan","start")):(t(i.evt),e())}function I(){w.value=!1}function F(i){t(i,c(i)),e(),j.value=!0,g.value=!0,document.addEventListener("mouseup",T,!0)}function T(){j.value=!1,g.value=!1,e(!0),I(),document.removeEventListener("mouseup",T,!0)}function q(i){t(i,c(i)),e(!0)}function Y(i){Ut.includes(i.keyCode)&&e(!0)}function he(i){if(a.vertical===!0)return null;const b=s.lang.rtl!==a.reverse?1-i:i;return{transform:`translateX(calc(${2*b-1} * ${a.thumbSize} / 2 + ${50-100*b}%))`}}function Ge(i){const b=u(()=>j.value===!1&&(w.value===i.focusValue||w.value==="both")?" q-slider--focus":""),A=u(()=>`q-slider__thumb q-slider__thumb${k.value} q-slider__thumb${k.value}-${D.value===!0?"rtl":"ltr"} absolute non-selectable`+b.value+(i.thumbColor.value!==void 0?` text-${i.thumbColor.value}`:"")),N=u(()=>({width:a.thumbSize,height:a.thumbSize,[fe.value]:`${100*i.ratio.value}%`,zIndex:w.value===i.focusValue?2:void 0})),le=u(()=>i.labelColor.value!==void 0?` text-${i.labelColor.value}`:""),Le=u(()=>he(i.ratio.value)),bt=u(()=>"q-slider__text"+(i.labelTextColor.value!==void 0?` text-${i.labelTextColor.value}`:""));return()=>{const $t=[C("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[C("path",{d:a.thumbPath})]),C("div",{class:"q-slider__focus-ring fit"})];return(a.label===!0||a.labelAlways===!0)&&($t.push(C("div",{class:be.value+" absolute fit no-pointer-events"+le.value},[C("div",{class:W.value,style:{minWidth:a.thumbSize}},[C("div",{class:Te.value,style:Le.value},[C("span",{class:bt.value},i.label.value)])])])),a.name!==void 0&&a.disable!==!0&&V($t,"push")),C("div",{class:A.value,style:N.value,...i.getNodeData()},$t)}}function yt(i,b,A,N){const le=[];a.innerTrackColor!=="transparent"&&le.push(C("div",{key:"inner",class:ht.value,style:nt.value})),a.selectionColor!=="transparent"&&le.push(C("div",{key:"selection",class:Ie.value,style:i.value})),a.markers!==!1&&le.push(C("div",{key:"marker",class:Fe.value,style:it.value})),N(le);const Le=[Ot("div",{key:"trackC",class:ye.value,tabindex:b.value,...A.value},[C("div",{class:ie.value,style:ft.value},le)],"slide",h.value,()=>f.value)];if(a.markerLabels!==!1){const bt=a.switchMarkerLabelsSide===!0?"unshift":"push";Le[bt](C("div",{key:"markerL",class:ce.value},d()))}return Le}return tt(()=>{document.removeEventListener("mouseup",T,!0)}),{state:{active:g,focus:w,preventFocus:j,dragging:P,editable:h,classes:O,tabindex:ae,attributes:L,roundValueFn:x,keyStep:_,trackLen:Q,innerMin:E,innerMinRatio:oe,innerMax:U,innerMaxRatio:pe,positionProp:fe,sizeProp:_e,isReversed:D},methods:{onActivate:F,onMobileClick:q,onBlur:I,onKeyup:Y,getContent:yt,getThumbRenderFn:Ge,convertRatioToModel:st,convertModelToRatio:Qe,getDraggingRatio:gt}}}const dn=()=>({}),mn=Ae({name:"QSlider",props:{...on,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:un,setup(e,{emit:t}){const{proxy:{$q:c}}=qe(),{state:o,methods:a}=cn({updateValue:k,updatePosition:D,getDragging:B,formAttrs:da(e)}),n=z(null),r=z(0),s=z(0);function m(){s.value=e.modelValue===null?o.innerMin.value:je(e.modelValue,o.innerMin.value,o.innerMax.value)}He(()=>`${e.modelValue}|${o.innerMin.value}|${o.innerMax.value}`,m),m();const V=u(()=>a.convertModelToRatio(s.value)),g=u(()=>o.active.value===!0?r.value:V.value),j=u(()=>{const h={[o.positionProp.value]:`${100*o.innerMinRatio.value}%`,[o.sizeProp.value]:`${100*(g.value-o.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(h.backgroundImage=`url(${e.selectionImg}) !important`),h}),w=a.getThumbRenderFn({focusValue:!0,getNodeData:dn,ratio:g,label:u(()=>e.labelValue!==void 0?e.labelValue:s.value),thumbColor:u(()=>e.thumbColor||e.color),labelColor:u(()=>e.labelColor),labelTextColor:u(()=>e.labelTextColor)}),P=u(()=>o.editable.value!==!0?{}:c.platform.is.mobile===!0?{onClick:a.onMobileClick}:{onMousedown:a.onActivate,onFocus:E,onBlur:a.onBlur,onKeydown:U,onKeyup:a.onKeyup});function k(h){s.value!==e.modelValue&&t("update:modelValue",s.value),h===!0&&t("change",s.value)}function B(){return n.value.getBoundingClientRect()}function D(h,x=o.dragging.value){const _=a.getDraggingRatio(h,x);s.value=a.convertRatioToModel(_),r.value=e.snap!==!0||e.step===0?_:a.convertModelToRatio(s.value)}function E(){o.focus.value=!0}function U(h){if(Ut.includes(h.keyCode)===!1)return;Oe(h);const x=([34,33].includes(h.keyCode)?10:1)*o.keyStep.value,_=([34,37,40].includes(h.keyCode)?-1:1)*(o.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*x;s.value=je(o.roundValueFn.value(s.value+_),o.innerMin.value,o.innerMax.value),k()}return()=>{const h=a.getContent(j,o.tabindex,P,x=>{x.push(w())});return C("div",{ref:n,class:o.classes.value+(e.modelValue===null?" q-slider--no-value":""),...o.attributes.value,"aria-valuenow":e.modelValue},h)}}}),G=ve(),vn=ee({name:"HealthBarDialog",data(){return{adjustment:0,tempHp:G.hp.tempHp,health:G.hp.currentHp,range:G.hp.maxHp*3}},computed:{displayHealth:{get(){return this.health},set(e){this.health=Number(e),this.adjustment=this.health+this.tempHp-(G.hp.currentHp+G.hp.tempHp)}},displayTempHp:{get(){return this.tempHp},set(e){this.tempHp=Number(e),this.adjustment=this.health+this.tempHp-(G.hp.currentHp+G.hp.tempHp)}},displayAdjustment:{get(){return this.adjustment},set(e){if(this.adjustment=Number(e),this.adjustment<=0){this.tempHp=Math.max(0,G.hp.tempHp+this.adjustment);const t=Math.min(0,G.hp.tempHp+this.adjustment);this.health=Math.max(0,G.hp.currentHp+t)}else this.health=Math.min(G.hp.maxHp,G.hp.currentHp+this.adjustment)}}},methods:{adjustHealth(){G.setTempHp(this.tempHp),G.setCurrentHealth(this.health),this.adjustment=0,this.health=G.hp.currentHp,this.tempHp=G.hp.tempHp,this.$emit("update:modelValue",!1)},cancelAdjustment(){this.adjustment=0,this.health=G.hp.currentHp,this.tempHp=G.hp.tempHp,this.$emit("update:modelValue",!1)}}});function pn(e,t,c,o,a,n){return $(),R(vt,null,{default:v(()=>[l(ge,{style:{"max-width":"800px","min-width":"765px"}},{default:v(()=>[l(H,{class:"text-h5"},{default:v(()=>[t[3]||(t[3]=Me(" Adjust health ",-1)),l(ue)]),_:1}),l(H,{class:"row justify-evenly"},{default:v(()=>[l(J,{modelValue:e.displayHealth,"onUpdate:modelValue":t[0]||(t[0]=r=>e.displayHealth=r),label:"Health",type:"number",outlined:""},null,8,["modelValue"]),l(J,{modelValue:e.displayTempHp,"onUpdate:modelValue":t[1]||(t[1]=r=>e.displayTempHp=r),label:"Temporary health",type:"number",outlined:""},null,8,["modelValue"])]),_:1}),l(H,{class:"q-mx-xl q-px-xl"},{default:v(()=>[l(mn,{modelValue:e.displayAdjustment,"onUpdate:modelValue":t[2]||(t[2]=r=>e.displayAdjustment=r),min:-e.range,max:e.range,label:""},null,8,["modelValue","min","max"])]),_:1}),l(lt,{align:"right"},{default:v(()=>[l(me,{label:"Adjust",onClick:e.adjustHealth},null,8,["onClick"]),l(me,{label:"Cancel",onClick:e.cancelAdjustment},null,8,["onClick"])]),_:1})]),_:1})]),_:1})}const fn=te(vn,[["render",pn],["__scopeId","data-v-fccd46ef"]]),ze=ve(),hn=ee({name:"HpCard",components:{HealthBarDialog:fn},data(){return{showHealthDialog:!1}},computed:{hpRatio(){return ze.hp.currentHp/ze.hp.maxHp},currentHp(){return ze.hp.currentHp},maxHp(){return ze.hp.maxHp},tempHp(){return ze.hp.tempHp},dodgeValue(){return 10+ze.getAbilityScoreModifier("dex")}}}),gn={class:"column"},yn={class:"absolute-full flex flex-center text-white text-caption",style:{"line-height":"15px"}},bn={class:"absolute-full flex flex-center text-white text-caption",style:{"line-height":"15px"}};function $n(e,t,c,o,a,n){const r=Z("health-bar-dialog");return $(),R(ge,{class:"row q-gutter-x-lg items-center q-pr-lg q-py-sm col"},{default:v(()=>[p("div",gn,[t[3]||(t[3]=p("div",null,"DV",-1)),p("div",null,M(e.dodgeValue),1)]),p("div",{class:"row cursor-pointer col",onClick:t[1]||(t[1]=s=>e.showHealthDialog=!0)},[l(It,{value:e.hpRatio,"track-color":"primary",class:"col",style:{height:"15px"},onClick:t[0]||(t[0]=s=>e.showHealthDialog=!0)},{default:v(()=>[p("div",yn,M(e.currentHp)+" / "+M(e.maxHp),1)]),_:1},8,["value"]),e.tempHp>0?($(),R(It,{key:0,"model-value":1,"track-color":"green-14",class:"col-3",style:{height:"15px"}},{default:v(()=>[p("div",bn," +"+M(e.tempHp),1)]),_:1})):pt("",!0)]),l(r,{modelValue:e.showHealthDialog,"onUpdate:modelValue":t[2]||(t[2]=s=>e.showHealthDialog=s)},null,8,["modelValue"])]),_:1})}const Cn=te(hn,[["render",$n],["__scopeId","data-v-35ad32d2"]]),Je=ve(),Sn=ee({name:"LevelCard",computed:{characterName:{get(){return Je.name},set(e){Je.name=e}},level:{get(){return Je.level},set(e){Je.setLevel(e)}}},methods:{incrementLevel(){Je.incrementLevel()}}});function wn(e,t,c,o,a,n){return $(),R(ge,{class:"row q-py-sm q-pr-md"},{default:v(()=>[l(J,{label:"Character Name",modelValue:e.characterName,"onUpdate:modelValue":t[0]||(t[0]=r=>e.characterName=r),dense:"",class:"col q-ml-md"},null,8,["modelValue"]),l(J,{label:"Level",modelValue:e.level,"onUpdate:modelValue":t[1]||(t[1]=r=>e.level=r),dense:"",type:"number",class:"col-3 q-ml-md"},null,8,["modelValue"]),l(me,{label:"Level up!",dense:"",onClick:e.incrementLevel,class:"col-auto q-ml-md"},null,8,["onClick"])]),_:1})}const kn=te(Sn,[["render",wn]]),Se=ve(),An=ee({name:"AbilityScoreArrayDialog",props:{},data(){return{selectedAbilityScoreArray:"Specialist",abilityScoreArrays:["Specialist","Balanced","Generalist"],abilityScoreArray:{specialist:[16,12,12,10,10,8],balanced:[14,14,12,12,10,10],generalist:[14,12,12,12,12,12]}}},computed:{actualAbilityScoreArray(){let e=[];switch(this.selectedAbilityScoreArray){case"Specialist":e=this.abilityScoreArray.specialist;break;case"Balanced":e=this.abilityScoreArray.balanced;break;case"Generalist":e=this.abilityScoreArray.generalist;break}return e}},methods:{moveToRight(e){e<this.actualAbilityScoreArray.length-1&&typeof this.actualAbilityScoreArray[e]=="number"&&typeof this.actualAbilityScoreArray[e+1]=="number"&&([this.actualAbilityScoreArray[e],this.actualAbilityScoreArray[e+1]]=[this.actualAbilityScoreArray[e+1],this.actualAbilityScoreArray[e]])},moveToLeft(e){e>0&&typeof this.actualAbilityScoreArray[e]=="number"&&typeof this.actualAbilityScoreArray[e-1]=="number"&&([this.actualAbilityScoreArray[e],this.actualAbilityScoreArray[e-1]]=[this.actualAbilityScoreArray[e-1],this.actualAbilityScoreArray[e]])},setDefaultValues(){this.selectedAbilityScoreArray=Se.selectedAbilityScoreArray.unslugify().capitalize();const e=this.selectedAbilityScoreArray.toLowerCase();this.abilityScoreArray[e]&&(this.abilityScoreArray[e]=[Se.baseAbilityScores.str,Se.baseAbilityScores.dex,Se.baseAbilityScores.con,Se.baseAbilityScores.int,Se.baseAbilityScores.wis,Se.baseAbilityScores.cha])},saveAbilityScoreArray(){Se.setAbilityScores({str:this.actualAbilityScoreArray[0]||0,dex:this.actualAbilityScoreArray[1]||0,con:this.actualAbilityScoreArray[2]||0,int:this.actualAbilityScoreArray[3]||0,wis:this.actualAbilityScoreArray[4]||0,cha:this.actualAbilityScoreArray[5]||0}),Se.selectedAbilityScoreArray=this.selectedAbilityScoreArray.toLowerCase(),this.$emit("update:modelValue",!1)}}}),qn={class:"row justify-start"},_n={class:"row justify-evenly q-mt-xl"},Tn={class:"q-table q-mx-auto",style:{width:"100%"}},Pn={class:"row justify-center items-center q-col-gutter-x-md"};function Ln(e,t,c,o,a,n){return $(),R(vt,null,{default:v(()=>[l(ge,{style:{"max-width":"800px","min-width":"765px"}},{default:v(()=>[l(H,{class:"text-h5"},{default:v(()=>[t[2]||(t[2]=p("div",null,"Select Ability Score Array",-1)),l(ue)]),_:1}),l(H,{class:"q-ml-lg q-mr-lg"},{default:v(()=>[p("div",qn,[l(Ze,{modelValue:e.selectedAbilityScoreArray,"onUpdate:modelValue":t[0]||(t[0]=r=>e.selectedAbilityScoreArray=r),options:e.abilityScoreArrays,label:"Select Array",outlined:"",dense:"",class:"col-4"},null,8,["modelValue","options"])]),p("div",_n,[p("table",Tn,[p("thead",null,[p("tr",null,[($(),X(de,null,$e(["STR","DEX","CON","INT","WIS","CHA"],(r,s)=>p("th",{key:s,class:"text-center col"},M(r),1)),64))])]),p("tbody",null,[p("tr",null,[($(!0),X(de,null,$e(e.actualAbilityScoreArray,(r,s)=>($(),X("td",{colspan:"1",class:"text-center col",key:s,style:{width:"1%"}},[p("div",Pn,[l(re,{name:s>0?"chevron_left":"",onClick:m=>e.moveToLeft(s),class:"col",size:"md"},null,8,["name","onClick"]),l(J,{"model-value":r,outlined:"",readonly:"","input-class":"text-center",class:"col-8"},null,8,["model-value"]),l(re,{name:s<e.actualAbilityScoreArray.length-1?"chevron_right":"",onClick:m=>e.moveToRight(s),class:"col",size:"md"},null,8,["name","onClick"])])]))),128))])])])])]),_:1}),l(lt,{align:"right"},{default:v(()=>[l(me,{label:"Save",color:"primary",onClick:e.saveAbilityScoreArray},null,8,["onClick"]),l(me,{label:"Cancel",color:"primary",onClick:t[1]||(t[1]=r=>e.$emit("update:modelValue",!1))})]),_:1})]),_:1})]),_:1})}const xn=te(An,[["render",Ln]]),we=at(),se=ve(),Hn=ee({name:"ClassSelectCard",components:{AbilityScoreArrayDialog:xn},data(){return{showAbilityScoreArrayDialog:!1}},computed:{classLabels(){return Object.keys(we.classes).map(e=>e.capitalize())},ancestryLabels(){return Object.keys(we.ancestries).map(e=>e.capitalize())},lineageLabels(){return we.ancestries[se.ancestry.ancestry]?.lineages.map(e=>e.unslugify().capitalize())||[]},regionLabels(){return Object.keys(we.regions).map(e=>e.unslugify().capitalize())},classRoles(){return we.classes[se.class]?.roles||[]},ancestryFeature(){return we.ancestries[se.ancestry.ancestry]?.feature.unslugify().capitalize()||"N/A"},lineageFeature(){return we.lineages[se.ancestry.lineage]?.feats.lv1.unslugify().capitalize()},rolePassives(){return se.getRoleFeatures.map(e=>e.unslugify().capitalize())},regionFeats(){const e=we.regions[se.region]?.feats||{};return(we.classes[se.class]?.roles||[]).map(c=>e[c]?.unslugify().capitalize()||"N/A")},selectedClass:{get(){return se.class.capitalize()},set(e){se.setClass(e)}},selectedAncestry:{get(){return se.ancestry.ancestry.capitalize()},set(e){se.setAncestry(e)}},selectedLineage:{get(){return se.ancestry.lineage.unslugify().capitalize()},set(e){se.setLineage(e)}},selectedRegion:{get(){return se.region.unslugify().capitalize()},set(e){se.setRegion(e)}}},methods:{openAbilityScoreArrayDialog(){this.showAbilityScoreArrayDialog=!0}}}),Mn={class:"row q-gutter-x-sm"},Vn={class:"row q-col-gutter-x-sm"};function Dn(e,t,c,o,a,n){const r=Z("ability-score-array-dialog");return $(),X(de,null,[l(H,{class:"text-subtitle1"},{default:v(()=>[t[7]||(t[7]=Me(" Class ",-1)),l(ue)]),_:1}),l(H,{class:"column q-gutter-y-md"},{default:v(()=>[l(Ze,{modelValue:e.selectedClass,"onUpdate:modelValue":t[0]||(t[0]=s=>e.selectedClass=s),options:e.classLabels,label:"Class",dense:"",outlined:"",class:"col q-mt-none"},null,8,["modelValue","options"]),p("div",Mn,[($(!0),X(de,null,$e(e.classRoles,(s,m)=>($(),R(J,{"model-value":s.unslugify().capitalize(),label:`Role ${m+1}`,dense:"",outlined:"",readonly:"",key:m,class:"col"},null,8,["model-value","label"]))),128))])]),_:1}),l(H,{class:"text-subtitle1"},{default:v(()=>[t[8]||(t[8]=Me(" Ancestry ",-1)),l(ue)]),_:1}),l(H,{class:"column q-gutter-y-md"},{default:v(()=>[l(Ze,{modelValue:e.selectedAncestry,"onUpdate:modelValue":t[1]||(t[1]=s=>e.selectedAncestry=s),options:e.ancestryLabels,label:"Ancestry",dense:"",outlined:"",class:"col q-mt-none"},null,8,["modelValue","options"]),l(Ze,{modelValue:e.selectedLineage,"onUpdate:modelValue":t[2]||(t[2]=s=>e.selectedLineage=s),options:e.lineageLabels,label:"Lineage",dense:"",outlined:"",class:"col"},null,8,["modelValue","options"]),p("div",Vn,[l(J,{modelValue:e.ancestryFeature,"onUpdate:modelValue":t[3]||(t[3]=s=>e.ancestryFeature=s),label:"Ancestry Feature",dense:"",outlined:"",readonly:"",class:"col"},null,8,["modelValue"]),l(J,{modelValue:e.lineageFeature,"onUpdate:modelValue":t[4]||(t[4]=s=>e.lineageFeature=s),label:"Lineage Feature",dense:"",outlined:"",readonly:"",class:"col"},null,8,["modelValue"])]),($(!0),X(de,null,$e(e.rolePassives,(s,m)=>($(),R(J,{"model-value":s,label:`Role Passive ${m+1}`,dense:"",outlined:"",readonly:"",key:m,class:"col"},null,8,["model-value","label"]))),128))]),_:1}),l(H,{class:"text-subtitle1"},{default:v(()=>[t[9]||(t[9]=Me(" Region ",-1)),l(ue)]),_:1}),l(H,{class:"column q-gutter-y-md"},{default:v(()=>[l(Ze,{modelValue:e.selectedRegion,"onUpdate:modelValue":t[5]||(t[5]=s=>e.selectedRegion=s),options:e.regionLabels,label:"Region",dense:"",outlined:"",class:"col"},null,8,["modelValue","options"]),($(!0),X(de,null,$e(e.regionFeats,(s,m)=>($(),R(J,{"model-value":s,label:`Region Feat ${m+1}`,dense:"",outlined:"",readonly:"",key:m,class:"col"},null,8,["model-value","label"]))),128))]),_:1}),l(H,{class:"text-subtitle1"},{default:v(()=>[t[10]||(t[10]=Me(" Level 1 ",-1)),l(ue)]),_:1}),l(H,{class:"column"},{default:v(()=>[l(me,{label:"Select base ability scores",onClick:e.openAbilityScoreArrayDialog},null,8,["onClick"]),l(r,{modelValue:e.showAbilityScoreArrayDialog,"onUpdate:modelValue":t[6]||(t[6]=s=>e.showAbilityScoreArrayDialog=s)},null,8,["modelValue"])]),_:1})],64)}const Rn=te(Hn,[["render",Dn]]),Bn=ee({name:"IndexPage",components:{AbilityScoreCard:Ua,HpCard:Cn,GearCard:ln,LevelCard:kn,ClassSelectCard:Rn}}),In={class:"row items-stretch justify-evenly q-pt-xl",style:{height:"90vh"}},Fn={class:"column col q-px-xl"},Nn={class:"row items-center q-gutter-x-lg"};function zn(e,t,c,o,a,n){const r=Z("class-select-card"),s=Z("level-card"),m=Z("ability-score-card"),V=Z("hp-card"),g=Z("gear-card");return $(),R(Va,null,{default:v(()=>[p("div",In,[l(ge,{class:"q-pa-sm q-ml-lg"},{default:v(()=>[l(mt,{style:{height:"100%",width:"300px"}},{default:v(()=>[l(r)]),_:1})]),_:1}),p("div",Fn,[p("div",Nn,[l(s,{class:"col"}),l(m,{class:"col"}),l(V,{class:"col"})]),l(g,{class:"q-mt-lg col-grow"})])])]),_:1})}const Un=te(Bn,[["render",zn]]);export{Un as default};
